{"ast":null,"code":"// src/AuthContext.js\nimport React,{createContext,useState,useContext}from'react';import{loginUserAPI,loginEmployeeAPI}from'./api';// Functions are defined for API calls\nimport{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();export function useAuth(){return useContext(AuthContext);}export function AuthProvider(_ref){let{children}=_ref;const[user,setUser]=useState(null);const login=async(credentials,isEmployee)=>{try{let userData;if(isEmployee){userData=await loginEmployeeAPI(credentials);}else{userData=await loginUserAPI(credentials);}setUser(userData);return{success:true};}catch(error){console.error('Login failed:',error);return{success:false,message:error.message};}};const logout=()=>{setUser(null);};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user,login,logout},children:children});}","map":{"version":3,"names":["React","createContext","useState","useContext","loginUserAPI","loginEmployeeAPI","jsx","_jsx","AuthContext","useAuth","AuthProvider","_ref","children","user","setUser","login","credentials","isEmployee","userData","success","error","console","message","logout","Provider","value"],"sources":["C:/Users/mrdun/Downloads/BRICS-App-V2-main/BRICS-App-V2-main/frontend/src/AuthContext.js"],"sourcesContent":["// src/AuthContext.js\nimport React, { createContext, useState, useContext } from 'react';\nimport { loginUserAPI, loginEmployeeAPI } from './api'; // Functions are defined for API calls\n\nconst AuthContext = createContext();\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState(null);\n\n  const login = async (credentials, isEmployee) => {\n    try {\n      let userData;\n      if (isEmployee) {\n        userData = await loginEmployeeAPI(credentials);\n      } else {\n        userData = await loginUserAPI(credentials);\n      }\n      setUser(userData);\n      return { success: true };\n    } catch (error) {\n      console.error('Login failed:', error);\n      return { success: false, message: error.message };\n    }\n  };\n\n  const logout = () => {\n    setUser(null);\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CAClE,OAASC,YAAY,CAAEC,gBAAgB,KAAQ,OAAO,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBAExD,KAAM,CAAAC,WAAW,cAAGP,aAAa,CAAC,CAAC,CAEnC,MAAO,SAAS,CAAAQ,OAAOA,CAAA,CAAG,CACxB,MAAO,CAAAN,UAAU,CAACK,WAAW,CAAC,CAChC,CAEA,MAAO,SAAS,CAAAE,YAAYA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAEtC,KAAM,CAAAa,KAAK,CAAG,KAAAA,CAAOC,WAAW,CAAEC,UAAU,GAAK,CAC/C,GAAI,CACF,GAAI,CAAAC,QAAQ,CACZ,GAAID,UAAU,CAAE,CACdC,QAAQ,CAAG,KAAM,CAAAb,gBAAgB,CAACW,WAAW,CAAC,CAChD,CAAC,IAAM,CACLE,QAAQ,CAAG,KAAM,CAAAd,YAAY,CAACY,WAAW,CAAC,CAC5C,CACAF,OAAO,CAACI,QAAQ,CAAC,CACjB,MAAO,CAAEC,OAAO,CAAE,IAAK,CAAC,CAC1B,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrC,MAAO,CAAED,OAAO,CAAE,KAAK,CAAEG,OAAO,CAAEF,KAAK,CAACE,OAAQ,CAAC,CACnD,CACF,CAAC,CAED,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnBT,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAED,mBACEP,IAAA,CAACC,WAAW,CAACgB,QAAQ,EAACC,KAAK,CAAE,CAAEZ,IAAI,CAAEE,KAAK,CAAEQ,MAAO,CAAE,CAAAX,QAAA,CAClDA,QAAQ,CACW,CAAC,CAE3B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}